<script>
const endpoint = "https://script.google.com/macros/s/AKfycbxJnyvOAnQWtGQX6jncScHsUnWBrIHuxyFbIOB3A78UaW2oWNhGKAahxsOUlMGR0ruXZg/exec";

function getLocation() {
if (navigator.geolocation) {
navigator.geolocation.getCurrentPosition(showPosition, showError);
} else {
document.getElementById("output").innerHTML = "お使いのブラウザは位置情報取得に対応していません。";
}
}

function showPosition(position) {
const lat = position.coords.latitude;
const lng = position.coords.longitude;

document.getElementById("output").innerHTML = "緯度: " + lat + "<br>経度: " + lng;

// スプレッドシートに送信
fetch(endpoint, {
method: "POST",
body: JSON.stringify({ latitude: lat, longitude: lng }),
headers: {
"Content-Type": "application/json"
}
})
.then(response => response.text())
.then(data => console.log("Success:", data))
.catch(error => console.error("Error:", error));
}

function showError(error) {
document.getElementById("output").innerHTML = "位置情報を取得できませんでした。";
}
</script>